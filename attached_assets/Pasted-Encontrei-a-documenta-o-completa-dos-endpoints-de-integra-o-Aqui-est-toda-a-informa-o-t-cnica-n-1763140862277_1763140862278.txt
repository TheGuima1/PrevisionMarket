Encontrei a documenta√ß√£o completa dos endpoints de integra√ß√£o! Aqui est√° toda a informa√ß√£o t√©cnica necess√°ria para integrar o Palpites.AI com o sistema XCHANGE (3BIT):

üìã DOCUMENTA√á√ÉO T√âCNICA - INTEGRA√á√ÉO PALPITES.AI + XCHANGE
1. üîó ENDPOINTS
Base URL: https://seu-dominio.replit.app (ou o dom√≠nio configurado no seu deployment)

MINT (Cr√©dito de BRL3)
POST /api/palpites/mint

BURN (D√©bito de BRL3)
POST /api/palpites/burn

CONSULTAR SALDO (Endpoint b√¥nus)
GET /api/palpites/balance/:externalUserId

CONSULTAR TRANSA√á√ïES (Endpoint b√¥nus)
GET /api/palpites/transactions/:externalUserId

2. üì¶ PAYLOADS ESPERADOS
MINT - Payload JSON:
{
  "externalUserId": "uuid-do-usuario-na-palpites",
  "amountBrl": "150.00"
}

Campos obrigat√≥rios:

externalUserId (string): ID √∫nico do usu√°rio no sistema Palpites.AI
amountBrl (string | number): Valor em BRL (aceita "150.00" ou 150.00)
Formato dos valores:

‚úÖ Enviar em BRL (Reais Brasileiros)
‚úÖ Exemplos v√°lidos: "150.00", 150, "1500.50"
‚ùå N√ÉO enviar em Wei ou outras unidades
BURN - Payload JSON:
{
  "externalUserId": "uuid-do-usuario-na-palpites",
  "amountBrl": "75.50"
}

Campos obrigat√≥rios:

externalUserId (string): ID √∫nico do usu√°rio no sistema Palpites.AI
amountBrl (string | number): Valor em BRL a ser debitado
3. üîê AUTENTICA√á√ÉO
Header obrigat√≥rio:

x-api-key: SUA_CHAVE_SECRETA_AQUI

Detalhes:

Nome do header: x-api-key (em min√∫sculas)
Tipo: API Key (chave compartilhada)
IMPORTANTE: A chave de API deve ser configurada como secret PALPITES_API_KEY no ambiente do 3BIT
A mesma chave deve ser utilizada pelo Palpites.AI em todas as requisi√ß√µes
Exemplo de configura√ß√£o:

# No .env do 3BIT (lado servidor):
PALPITES_API_KEY=sua-chave-super-secreta-aqui-12345

4. ‚úÖ RESPOSTAS
Sucesso (HTTP 200)
MINT/BURN - Resposta:

{
  "success": true
}

BALANCE - Resposta:

{
  "balance": "150.00",
  "account": "PalpitesUser:uuid:BRL3"
}

‚ùå Erros Poss√≠veis
HTTP 400 - Bad Request

{
  "error": "externalUserId √© obrigat√≥rio"
}

{
  "error": "amountBrl inv√°lido"
}

HTTP 401 - Unauthorized

{
  "error": "Invalid API key"
}

HTTP 500 - Internal Server Error

{
  "error": "Palpites integration not configured"
}

{
  "error": "Internal server error"
}

5. ‚ÑπÔ∏è INFORMA√á√ïES ADICIONAIS
Carteira Administrativa:
‚úÖ N√ÉO √© necess√°rio passar endere√ßo de carteira no payload
‚úÖ A carteira-m√£e/banco est√° configurada internamente no sistema como Bank:BRL3
‚úÖ O sistema usa contabilidade em ledger duplo (double-entry bookkeeping)
Contas Internas (Ledger):
Quando voc√™ chama MINT ou BURN, o sistema cria automaticamente entradas no ledger:

Conta do usu√°rio: PalpitesUser:{externalUserId}:BRL3
Conta do banco: Bank:BRL3
Rate Limiting:
‚ö†Ô∏è N√£o h√° rate limiting configurado atualmente
‚úÖ Sistema suporta alta volumetria
üí° Recomendado: Implementar retry com backoff exponencial no lado do cliente
Idempot√™ncia:
‚ö†Ô∏è Os endpoints MINT/BURN n√£o s√£o idempotentes atualmente
üí° Recomendado: Implementar controle de duplicatas no lado do Palpites.AI
üí° Futura melhoria: Adicionar campo idempotencyKey opcional
Logs & Auditoria:
‚úÖ Todas as opera√ß√µes s√£o registradas no ledger com metadata completo
‚úÖ Timestamp autom√°tico em todas as transa√ß√µes
‚úÖ Logs de console identificam origem: [PALPITES MINT] e [PALPITES BURN]
6. üìù EXEMPLOS DE INTEGRA√á√ÉO
Exemplo em cURL - MINT:
curl -X POST https://seu-dominio.replit.app/api/palpites/mint \
  -H "Content-Type: application/json" \
  -H "x-api-key: sua-chave-secreta" \
  -d '{
    "externalUserId": "123e4567-e89b-12d3-a456-426614174000",
    "amountBrl": "150.00"
  }'

Exemplo em cURL - BURN:
curl -X POST https://seu-dominio.replit.app/api/palpites/burn \
  -H "Content-Type: application/json" \
  -H "x-api-key: sua-chave-secreta" \
  -d '{
    "externalUserId": "123e4567-e89b-12d3-a456-426614174000",
    "amountBrl": "75.50"
  }'

Exemplo em JavaScript/Node.js:
const axios = require('axios');
const BASE_URL = 'https://seu-dominio.replit.app';
const API_KEY = 'sua-chave-secreta';
// MINT - Creditar BRL3 ap√≥s dep√≥sito PIX
async function creditarBRL3(userId, valor) {
  try {
    const response = await axios.post(
      `${BASE_URL}/api/palpites/mint`,
      {
        externalUserId: userId,
        amountBrl: valor
      },
      {
        headers: {
          'Content-Type': 'application/json',
          'x-api-key': API_KEY
        }
      }
    );
    
    console.log('‚úÖ MINT realizado:', response.data);
    return response.data;
  } catch (error) {
    console.error('‚ùå Erro no MINT:', error.response?.data || error.message);
    throw error;
  }
}
// BURN - Debitar BRL3 ap√≥s saque PIX
async function debitarBRL3(userId, valor) {
  try {
    const response = await axios.post(
      `${BASE_URL}/api/palpites/burn`,
      {
        externalUserId: userId,
        amountBrl: valor
      },
      {
        headers: {
          'Content-Type': 'application/json',
          'x-api-key': API_KEY
        }
      }
    );
    
    console.log('‚úÖ BURN realizado:', response.data);
    return response.data;
  } catch (error) {
    console.error('‚ùå Erro no BURN:', error.response?.data || error.message);
    throw error;
  }
}
// Consultar saldo
async function consultarSaldo(userId) {
  try {
    const response = await axios.get(
      `${BASE_URL}/api/palpites/balance/${userId}`,
      {
        headers: {
          'x-api-key': API_KEY
        }
      }
    );
    
    console.log('üí∞ Saldo:', response.data);
    return response.data;
  } catch (error) {
    console.error('‚ùå Erro ao consultar saldo:', error.response?.data || error.message);
    throw error;
  }
}

7. üöÄ FLUXO DE INTEGRA√á√ÉO RECOMENDADO
Quando usu√°rio DEPOSITA via PIX no Palpites.AI:
Usu√°rio faz dep√≥sito PIX na Palpites.AI
Palpites.AI confirma o pagamento internamente
Palpites.AI chama POST /api/palpites/mint ‚Üí 3BIT credita BRL3
Usu√°rio agora tem BRL3 dispon√≠vel
Quando usu√°rio SACA via PIX no Palpites.AI:
Usu√°rio solicita saque PIX na Palpites.AI
Palpites.AI valida saldo interno
Palpites.AI chama POST /api/palpites/burn ‚Üí 3BIT debita BRL3
Palpites.AI processa PIX para a conta do usu√°rio
