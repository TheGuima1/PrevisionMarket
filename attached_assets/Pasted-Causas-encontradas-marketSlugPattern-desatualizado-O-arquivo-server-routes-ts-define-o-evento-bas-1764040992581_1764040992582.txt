Causas encontradas

marketSlugPattern desatualizado – O arquivo server/routes.ts define o evento base com marketSlugPattern: "brazilian-presidential-election". A nova nomenclatura dos mercados no banco começa com brazil-election-2026-* (ex.: brazil-election-2026-lula), de modo que a regex antiga nunca casa e o evento não é criado/vinculado.

Slugs no polymarket-metadata.ts – O arquivo server/polymarket-metadata.ts contém os slugs longos como will-luiz-incio-lula-da-silva-win-the-2026-brazilian-presidential-election. Contudo, no ambiente de produção os slugs dos mercados são simplificados (brazil-election-2026-lula, brazil-election-2026-jair, etc.). Isso faz com que o seed crie mercados com slugs diferentes dos que realmente existem e, consequentemente, o site não os associa ao evento.

Correção proposta

É necessário atualizar a regex para casar com os slugs atuais e substituir os slugs longos pelos novos slugs simplificados no arquivo de metadados. No Replit, abra os arquivos indicados e aplique as seguintes mudanças:

*** Begin Patch
*** Update File: server/routes.ts
@@ const BASELINE_EVENTS = [
       {
         slug: "brazil-election-2026",
         title: "Eleição Presidencial Brasil 2026",
         description: "Quem vencerá as eleições presidenciais brasileiras de 2026?",
         category: "politics" as const,
         flagIcon: "",
         polymarketSlug: "brazil-presidential-election",
         endDate: new Date("2026-10-04T23:59:59Z"),
-        marketSlugPattern: "brazilian-presidential-election"
+        // Atualizado para casar com os slugs simplificados usados em produção.
+        // Agora o padrão pega todos os mercados que começam com “brazil-election-2026”.
+        marketSlugPattern: "^brazil-election-2026"
       },
*** End Patch

*** Update File: server/polymarket-metadata.ts
@@ export const PALPITES_MARKETS: MarketMetadata[] = [
-  {
-    polymarketSlug: "will-luiz-incio-lula-da-silva-win-the-2026-brazilian-presidential-election",
+  {
+    // Slug simplificado utilizado em produção (Palpites.AI e Polymarket)
+    polymarketSlug: "brazil-election-2026-lula",
@@
-  {
-    polymarketSlug: "will-tarcisio-de-frietas-win-the-2026-brazilian-presidential-election",
+  {
+    polymarketSlug: "brazil-election-2026-tarcisio",
@@
-  {
-    polymarketSlug: "will-fernando-haddad-win-the-2026-brazilian-presidential-election",
+  {
+    polymarketSlug: "brazil-election-2026-haddad",
@@
-  {
-    polymarketSlug: "will-renan-santos-win-the-2026-brazilian-presidential-election",
+  {
+    polymarketSlug: "brazil-election-2026-renan",
@@
-  {
-    polymarketSlug: "will-carlos-roberto-massa-jnior-win-the-2026-brazilian-presidential-election",
+  {
+    polymarketSlug: "brazil-election-2026-ratinho",
@@
-  {
-    polymarketSlug: "will-jair-bolsonaro-win-the-2026-brazilian-presidential-election",
+  {
+    polymarketSlug: "brazil-election-2026-jair",
@@
-  {
-    polymarketSlug: "will-flvio-bolsonaro-win-the-2026-brazilian-presidential-election",
+  {
+    polymarketSlug: "brazil-election-2026-flavio",
@@
-  {
-    polymarketSlug: "will-michelle-bolsonaro-win-the-2026-brazilian-presidential-election",
+  {
+    polymarketSlug: "brazil-election-2026-michelle",
@@
-  {
-    polymarketSlug: "will-eduardo-bolsonaro-win-the-2026-brazilian-presidential-election",
+  {
+    polymarketSlug: "brazil-election-2026-eduardo",
*** End Patch

Passos após a alteração

Aplique as mudanças no Replit conforme o patch acima.

(Opcional) Rode o script de seed novamente (npm run seed ou o comando equivalente que você usa) para recriar os mercados com os slugs corretos, ou então certifique-se de que a função ensureBaselinePalpitesData() é executada para criar o evento e vincular os mercados existentes.

Reinicie a aplicação no ambiente de produção.

Com essa atualização, o site voltará a encontrar o evento Eleição Presidencial Brasil 2026 e os mercados serão corretamente associados a ele.